var de=Object.defineProperty;var ce=(Q,R,Y)=>R in Q?de(Q,R,{enumerable:!0,configurable:!0,writable:!0,value:Y}):Q[R]=Y;var he=(Q,R)=>()=>(R||Q((R={exports:{}}).exports,R),R.exports);var M=(Q,R,Y)=>ce(Q,typeof R!="symbol"?R+"":R,Y);var ue=he((Bt,Lt)=>{(function(Q){if(typeof Bt=="object"&&typeof Lt<"u")Lt.exports=Q();else if(typeof define=="function"&&define.amd)define([],Q);else{var R;typeof window<"u"?R=window:typeof global<"u"?R=global:typeof self<"u"?R=self:R=this,R.simpleDatatables=Q()}})(function(){return function(){function Q(R,Y,wt){function Z(X,U){if(!Y[X]){if(!R[X]){var ot=typeof require=="function"&&require;if(!U&&ot)return ot(X,!0);if(ft)return ft(X,!0);var ut=new Error("Cannot find module '"+X+"'");throw ut.code="MODULE_NOT_FOUND",ut}var pt=Y[X]={exports:{}};R[X][0].call(pt.exports,function(F){var mt=R[X][1][F];return Z(mt||F)},pt,pt.exports,Q,R,Y,wt)}return Y[X].exports}for(var ft=typeof require=="function"&&require,q=0;q<wt.length;q++)Z(wt[q]);return Z}return Q}()({1:[function(Q,R,Y){(function(wt){(function(){const Z=s=>Object.prototype.toString.call(s)==="[object Object]",ft=s=>{let t=!1;try{t=JSON.parse(s)}catch{return!1}return!(t===null||!Array.isArray(t)&&!Z(t))&&t},q=(s,t)=>{const e=document.createElement(s);if(t&&typeof t=="object")for(const i in t)i==="html"?e.innerHTML=t[i]:e.setAttribute(i,t[i]);return e},X=s=>["#text","#comment"].includes(s.nodeName)?s.data:s.childNodes?s.childNodes.map(t=>X(t)).join(""):"",U=s=>{if(s==null)return"";if(s.hasOwnProperty("text")||s.hasOwnProperty("data")){const t=s;return t.text??U(t.data)}return s.hasOwnProperty("nodeName")?X(s):String(s)},ot=function(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},ut=function(s,t){let e=0,i=0;for(;e<s+1;)t[i].hidden||(e+=1),i+=1;return i-1},pt=function(s){const t={};if(s)for(const e of s)t[e.name]=e.value;return t},F=s=>s?s.trim().split(" ").map(t=>`.${t}`).join(""):null,mt=(s,t)=>!(t==null?void 0:t.split(" ").some(i=>!s.classList.contains(i))),tt=(s,t)=>s?t?`${s} ${t}`:s:t||"";var Nt=function(){return Nt=Object.assign||function(s){for(var t,e=arguments,i=1,n=arguments.length;i<n;i++)for(var a in t=e[i])Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=t[a]);return s},Nt.apply(this,arguments)};function yt(s,t,e){for(var i,n=0,a=t.length;n<a;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return s.concat(i||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var P=function(){function s(t){t===void 0&&(t={});var e=this;Object.entries(t).forEach(function(i){var n=i[0],a=i[1];return e[n]=a})}return s.prototype.toString=function(){return JSON.stringify(this)},s.prototype.setValue=function(t,e){return this[t]=e,this},s}();function j(s){for(var t=arguments,e=[],i=1;i<arguments.length;i++)e[i-1]=t[i];return s!=null&&e.some(function(n){var a,l;return typeof((l=(a=s==null?void 0:s.ownerDocument)===null||a===void 0?void 0:a.defaultView)===null||l===void 0?void 0:l[n])=="function"&&s instanceof s.ownerDocument.defaultView[n]})}function Ot(s,t,e){var i;return s.nodeName==="#text"?i=e.document.createTextNode(s.data):s.nodeName==="#comment"?i=e.document.createComment(s.data):(t?(i=e.document.createElementNS("http://www.w3.org/2000/svg",s.nodeName),s.nodeName==="foreignObject"&&(t=!1)):s.nodeName.toLowerCase()==="svg"?(i=e.document.createElementNS("http://www.w3.org/2000/svg","svg"),t=!0):i=e.document.createElement(s.nodeName),s.attributes&&Object.entries(s.attributes).forEach(function(n){var a=n[0],l=n[1];return i.setAttribute(a,l)}),s.childNodes&&s.childNodes.forEach(function(n){return i.appendChild(Ot(n,t,e))}),e.valueDiffing&&(s.value&&j(i,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(i.value=s.value),s.checked&&j(i,"HTMLInputElement")&&(i.checked=s.checked),s.selected&&j(i,"HTMLOptionElement")&&(i.selected=s.selected))),i}var xt=function(s,t){for(t=t.slice();t.length>0;){var e=t.splice(0,1)[0];s=s.childNodes[e]}return s};function st(s,t,e){var i,n,a,l=t[e._const.action],o=t[e._const.route];[e._const.addElement,e._const.addTextElement].includes(l)||(i=xt(s,o));var r={diff:t,node:i};if(e.preDiffApply(r))return!0;switch(l){case e._const.addAttribute:if(!i||!j(i,"Element"))return!1;i.setAttribute(t[e._const.name],t[e._const.value]);break;case e._const.modifyAttribute:if(!i||!j(i,"Element"))return!1;i.setAttribute(t[e._const.name],t[e._const.newValue]),j(i,"HTMLInputElement")&&t[e._const.name]==="value"&&(i.value=t[e._const.newValue]);break;case e._const.removeAttribute:if(!i||!j(i,"Element"))return!1;i.removeAttribute(t[e._const.name]);break;case e._const.modifyTextElement:if(!i||!j(i,"Text"))return!1;e.textDiff(i,i.data,t[e._const.oldValue],t[e._const.newValue]),j(i.parentNode,"HTMLTextAreaElement")&&(i.parentNode.value=t[e._const.newValue]);break;case e._const.modifyValue:if(!i||i.value===void 0)return!1;i.value=t[e._const.newValue];break;case e._const.modifyComment:if(!i||!j(i,"Comment"))return!1;e.textDiff(i,i.data,t[e._const.oldValue],t[e._const.newValue]);break;case e._const.modifyChecked:if(!i||i.checked===void 0)return!1;i.checked=t[e._const.newValue];break;case e._const.modifySelected:if(!i||i.selected===void 0)return!1;i.selected=t[e._const.newValue];break;case e._const.replaceElement:var d=t[e._const.newValue].nodeName.toLowerCase()==="svg"||i.parentNode.namespaceURI==="http://www.w3.org/2000/svg";i.parentNode.replaceChild(Ot(t[e._const.newValue],d,e),i);break;case e._const.relocateGroup:yt([],new Array(t[e._const.groupLength])).map(function(){return i.removeChild(i.childNodes[t[e._const.from]])}).forEach(function(f,h){h===0&&(a=i.childNodes[t[e._const.to]]),i.insertBefore(f,a||null)});break;case e._const.removeElement:i.parentNode.removeChild(i);break;case e._const.addElement:var p=(u=o.slice()).splice(u.length-1,1)[0];if(!j(i=xt(s,u),"Element"))return!1;i.insertBefore(Ot(t[e._const.element],i.namespaceURI==="http://www.w3.org/2000/svg",e),i.childNodes[p]||null);break;case e._const.removeTextElement:if(!i||i.nodeType!==3)return!1;var m=i.parentNode;m.removeChild(i),j(m,"HTMLTextAreaElement")&&(m.value="");break;case e._const.addTextElement:var u;if(p=(u=o.slice()).splice(u.length-1,1)[0],n=e.document.createTextNode(t[e._const.value]),!(i=xt(s,u)).childNodes)return!1;i.insertBefore(n,i.childNodes[p]||null),j(i.parentNode,"HTMLTextAreaElement")&&(i.parentNode.value=t[e._const.value]);break;default:console.log("unknown action")}return e.postDiffApply({diff:r.diff,node:r.node,newNode:n}),!0}function Et(s,t,e){var i=s[t];s[t]=s[e],s[e]=i}function zt(s,t,e){(t=t.slice()).reverse(),t.forEach(function(i){(function(n,a,l){switch(a[l._const.action]){case l._const.addAttribute:a[l._const.action]=l._const.removeAttribute,st(n,a,l);break;case l._const.modifyAttribute:Et(a,l._const.oldValue,l._const.newValue),st(n,a,l);break;case l._const.removeAttribute:a[l._const.action]=l._const.addAttribute,st(n,a,l);break;case l._const.modifyTextElement:case l._const.modifyValue:case l._const.modifyComment:case l._const.modifyChecked:case l._const.modifySelected:case l._const.replaceElement:Et(a,l._const.oldValue,l._const.newValue),st(n,a,l);break;case l._const.relocateGroup:Et(a,l._const.from,l._const.to),st(n,a,l);break;case l._const.removeElement:a[l._const.action]=l._const.addElement,st(n,a,l);break;case l._const.addElement:a[l._const.action]=l._const.removeElement,st(n,a,l);break;case l._const.removeTextElement:a[l._const.action]=l._const.addTextElement,st(n,a,l);break;case l._const.addTextElement:a[l._const.action]=l._const.removeTextElement,st(n,a,l);break;default:console.log("unknown action")}})(s,i,e)})}var Vt=function(s){var t=[];return t.push(s.nodeName),s.nodeName!=="#text"&&s.nodeName!=="#comment"&&s.attributes&&(s.attributes.class&&t.push("".concat(s.nodeName,".").concat(s.attributes.class.replace(/ /g,"."))),s.attributes.id&&t.push("".concat(s.nodeName,"#").concat(s.attributes.id))),t},Pt=function(s){var t={},e={};return s.forEach(function(i){Vt(i).forEach(function(n){var a=n in t;a||n in e?a&&(delete t[n],e[n]=!0):t[n]=!0})}),t},Rt=function(s,t){var e=Pt(s),i=Pt(t),n={};return Object.keys(e).forEach(function(a){i[a]&&(n[a]=!0)}),n},Ht=function(s){return delete s.outerDone,delete s.innerDone,delete s.valueDone,!s.childNodes||s.childNodes.every(Ht)},z=function(s){if(Object.prototype.hasOwnProperty.call(s,"data"))return{nodeName:s.nodeName==="#text"?"#text":"#comment",data:s.data};var t={nodeName:s.nodeName};return Object.prototype.hasOwnProperty.call(s,"attributes")&&(t.attributes=Nt({},s.attributes)),Object.prototype.hasOwnProperty.call(s,"checked")&&(t.checked=s.checked),Object.prototype.hasOwnProperty.call(s,"value")&&(t.value=s.value),Object.prototype.hasOwnProperty.call(s,"selected")&&(t.selected=s.selected),Object.prototype.hasOwnProperty.call(s,"childNodes")&&(t.childNodes=s.childNodes.map(function(e){return z(e)})),t},$t=function(s,t){if(!["nodeName","value","checked","selected","data"].every(function(n){return s[n]===t[n]}))return!1;if(Object.prototype.hasOwnProperty.call(s,"data"))return!0;if(!!s.attributes!=!!t.attributes||!!s.childNodes!=!!t.childNodes)return!1;if(s.attributes){var e=Object.keys(s.attributes),i=Object.keys(t.attributes);if(e.length!==i.length||!e.every(function(n){return s.attributes[n]===t.attributes[n]}))return!1}return!(s.childNodes&&(s.childNodes.length!==t.childNodes.length||!s.childNodes.every(function(n,a){return $t(n,t.childNodes[a])})))},Ct=function(s,t,e,i,n){if(n===void 0&&(n=!1),!s||!t||s.nodeName!==t.nodeName)return!1;if(["#text","#comment"].includes(s.nodeName))return!!n||s.data===t.data;if(s.nodeName in e)return!0;if(s.attributes&&t.attributes){if(s.attributes.id){if(s.attributes.id!==t.attributes.id)return!1;if("".concat(s.nodeName,"#").concat(s.attributes.id)in e)return!0}if(s.attributes.class&&s.attributes.class===t.attributes.class&&"".concat(s.nodeName,".").concat(s.attributes.class.replace(/ /g,"."))in e)return!0}if(i)return!0;var a=s.childNodes?s.childNodes.slice().reverse():[],l=t.childNodes?t.childNodes.slice().reverse():[];if(a.length!==l.length)return!1;if(n)return a.every(function(r,d){return r.nodeName===l[d].nodeName});var o=Rt(a,l);return a.every(function(r,d){return Ct(r,l[d],o,!0,!0)})},_t=function(s,t){return yt([],new Array(s)).map(function(){return t})},Ut=function(s,t){for(var e=s.childNodes?s.childNodes:[],i=t.childNodes?t.childNodes:[],n=_t(e.length,!1),a=_t(i.length,!1),l=[],o=function(){return arguments[1]},r=!1,d=function(){var p=function(m,u,f,h){var _=0,N=[],E=m.length,c=u.length,w=yt([],new Array(E+1)).map(function(){return[]}),k=Rt(m,u),S=E===c;S&&m.some(function(T,H){var y=Vt(T),b=Vt(u[H]);return y.length!==b.length?(S=!1,!0):(y.some(function(g,D){if(g!==b[D])return S=!1,!0}),!S||void 0)});for(var C=0;C<E;C++)for(var L=m[C],V=0;V<c;V++){var O=u[V];f[C]||h[V]||!Ct(L,O,k,S)?w[C+1][V+1]=0:(w[C+1][V+1]=w[C][V]?w[C][V]+1:1,w[C+1][V+1]>=_&&(_=w[C+1][V+1],N=[C+1,V+1]))}return _!==0&&{oldValue:N[0]-_,newValue:N[1]-_,length:_}}(e,i,n,a);p?(l.push(p),yt([],new Array(p.length)).map(o).forEach(function(m){return function(u,f,h,_){u[h.oldValue+_]=!0,f[h.newValue+_]=!0}(n,a,p,m)})):r=!0};!r;)d();return s.subsets=l,s.subsetsAge=100,l},Jt=function(){function s(){this.list=[]}return s.prototype.add=function(t){var e;(e=this.list).push.apply(e,t)},s.prototype.forEach=function(t){this.list.forEach(function(e){return t(e)})},s}();function St(s,t){var e,i,n=s;for(t=t.slice();t.length>0;)i=t.splice(0,1)[0],e=n,n=n.childNodes?n.childNodes[i]:void 0;return{node:n,parentNode:e,nodeIndex:i}}function Wt(s,t,e){return t.forEach(function(i){(function(n,a,l){var o,r,d,p;if(![l._const.addElement,l._const.addTextElement].includes(a[l._const.action])){var m=St(n,a[l._const.route]);r=m.node,d=m.parentNode,p=m.nodeIndex}var u,f,h=[],_={diff:a,node:r};if(l.preVirtualDiffApply(_))return!0;switch(a[l._const.action]){case l._const.addAttribute:r.attributes||(r.attributes={}),r.attributes[a[l._const.name]]=a[l._const.value],a[l._const.name]==="checked"?r.checked=!0:a[l._const.name]==="selected"?r.selected=!0:r.nodeName==="INPUT"&&a[l._const.name]==="value"&&(r.value=a[l._const.value]);break;case l._const.modifyAttribute:r.attributes[a[l._const.name]]=a[l._const.newValue];break;case l._const.removeAttribute:delete r.attributes[a[l._const.name]],Object.keys(r.attributes).length===0&&delete r.attributes,a[l._const.name]==="checked"?r.checked=!1:a[l._const.name]==="selected"?delete r.selected:r.nodeName==="INPUT"&&a[l._const.name]==="value"&&delete r.value;break;case l._const.modifyTextElement:r.data=a[l._const.newValue],d.nodeName==="TEXTAREA"&&(d.value=a[l._const.newValue]);break;case l._const.modifyValue:r.value=a[l._const.newValue];break;case l._const.modifyComment:r.data=a[l._const.newValue];break;case l._const.modifyChecked:r.checked=a[l._const.newValue];break;case l._const.modifySelected:r.selected=a[l._const.newValue];break;case l._const.replaceElement:u=z(a[l._const.newValue]),d.childNodes[p]=u;break;case l._const.relocateGroup:r.childNodes.splice(a[l._const.from],a[l._const.groupLength]).reverse().forEach(function(c){return r.childNodes.splice(a[l._const.to],0,c)}),r.subsets&&r.subsets.forEach(function(c){if(a[l._const.from]<a[l._const.to]&&c.oldValue<=a[l._const.to]&&c.oldValue>a[l._const.from])c.oldValue-=a[l._const.groupLength],(w=c.oldValue+c.length-a[l._const.to])>0&&(h.push({oldValue:a[l._const.to]+a[l._const.groupLength],newValue:c.newValue+c.length-w,length:w}),c.length-=w);else if(a[l._const.from]>a[l._const.to]&&c.oldValue>a[l._const.to]&&c.oldValue<a[l._const.from]){var w;c.oldValue+=a[l._const.groupLength],(w=c.oldValue+c.length-a[l._const.to])>0&&(h.push({oldValue:a[l._const.to]+a[l._const.groupLength],newValue:c.newValue+c.length-w,length:w}),c.length-=w)}else c.oldValue===a[l._const.from]&&(c.oldValue=a[l._const.to])});break;case l._const.removeElement:d.childNodes.splice(p,1),d.subsets&&d.subsets.forEach(function(c){c.oldValue>p?c.oldValue-=1:c.oldValue===p?c.delete=!0:c.oldValue<p&&c.oldValue+c.length>p&&(c.oldValue+c.length-1===p?c.length--:(h.push({newValue:c.newValue+p-c.oldValue,oldValue:p,length:c.length-p+c.oldValue-1}),c.length=p-c.oldValue))}),r=d;break;case l._const.addElement:var N=(f=a[l._const.route].slice()).splice(f.length-1,1)[0];r=(o=St(n,f))===null||o===void 0?void 0:o.node,u=z(a[l._const.element]),r.childNodes||(r.childNodes=[]),N>=r.childNodes.length?r.childNodes.push(u):r.childNodes.splice(N,0,u),r.subsets&&r.subsets.forEach(function(c){if(c.oldValue>=N)c.oldValue+=1;else if(c.oldValue<N&&c.oldValue+c.length>N){var w=c.oldValue+c.length-N;h.push({newValue:c.newValue+c.length-w,oldValue:N+1,length:w}),c.length-=w}});break;case l._const.removeTextElement:d.childNodes.splice(p,1),d.nodeName==="TEXTAREA"&&delete d.value,d.subsets&&d.subsets.forEach(function(c){c.oldValue>p?c.oldValue-=1:c.oldValue===p?c.delete=!0:c.oldValue<p&&c.oldValue+c.length>p&&(c.oldValue+c.length-1===p?c.length--:(h.push({newValue:c.newValue+p-c.oldValue,oldValue:p,length:c.length-p+c.oldValue-1}),c.length=p-c.oldValue))}),r=d;break;case l._const.addTextElement:var E=(f=a[l._const.route].slice()).splice(f.length-1,1)[0];u={nodeName:"#text",data:a[l._const.value]},(r=St(n,f).node).childNodes||(r.childNodes=[]),E>=r.childNodes.length?r.childNodes.push(u):r.childNodes.splice(E,0,u),r.nodeName==="TEXTAREA"&&(r.value=a[l._const.newValue]),r.subsets&&r.subsets.forEach(function(c){if(c.oldValue>=E&&(c.oldValue+=1),c.oldValue<E&&c.oldValue+c.length>E){var w=c.oldValue+c.length-E;h.push({newValue:c.newValue+c.length-w,oldValue:E+1,length:w}),c.length-=w}});break;default:console.log("unknown action")}r.subsets&&(r.subsets=r.subsets.filter(function(c){return!c.delete&&c.oldValue!==c.newValue}),h.length&&(r.subsets=r.subsets.concat(h))),l.postVirtualDiffApply({node:_.node,diff:_.diff,newNode:u})})(s,i,e)}),!0}function rt(s,t){t===void 0&&(t={valueDiffing:!0});var e={nodeName:s.nodeName};return j(s,"Text","Comment")?e.data=s.data:(s.attributes&&s.attributes.length>0&&(e.attributes={},Array.prototype.slice.call(s.attributes).forEach(function(i){return e.attributes[i.name]=i.value})),s.childNodes&&s.childNodes.length>0&&(e.childNodes=[],Array.prototype.slice.call(s.childNodes).forEach(function(i){return e.childNodes.push(rt(i,t))})),t.valueDiffing&&(j(s,"HTMLTextAreaElement")&&(e.value=s.value),j(s,"HTMLInputElement")&&["radio","checkbox"].includes(s.type.toLowerCase())&&s.checked!==void 0?e.checked=s.checked:j(s,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(e.value=s.value),j(s,"HTMLOptionElement")&&(e.selected=s.selected))),e}var Qt=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,Xt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function It(s){return s.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var Zt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Yt=function(s,t){var e={nodeName:"",attributes:{}},i=!1,n=s.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.nodeName=t||n[1]==="svg"?n[1]:n[1].toUpperCase(),(Zt[n[1]]||s.charAt(s.length-2)==="/")&&(i=!0),e.nodeName.startsWith("!--"))){var a=s.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:a!==-1?s.slice(4,a):""},voidElement:i}}for(var l=new RegExp(Xt),o=null,r=!1;!r;)if((o=l.exec(s))===null)r=!0;else if(o[0].trim())if(o[1]){var d=o[1].trim(),p=[d,""];d.indexOf("=")>-1&&(p=d.split("=")),e.attributes[p[0]]=p[1],l.lastIndex--}else o[2]&&(e.attributes[o[2]]=o[3].trim().substring(1,o[3].length-1));return{type:"tag",node:e,voidElement:i}},lt=function(s,t){t===void 0&&(t={valueDiffing:!0,caseSensitive:!1});var e,i=[],n=-1,a=[],l=!1;if(s.indexOf("<")!==0){var o=s.indexOf("<");i.push({nodeName:"#text",data:o===-1?s:s.substring(0,o)})}return s.replace(Qt,function(r,d){var p=r.charAt(1)!=="/",m=r.startsWith("<!--"),u=d+r.length,f=s.charAt(u);if(m){var h=Yt(r,t.caseSensitive).node;if(n<0)return i.push(h),"";var _=a[n];return _&&h.nodeName&&(_.node.childNodes||(_.node.childNodes=[]),_.node.childNodes.push(h)),""}if(p){if((e=Yt(r,t.caseSensitive||l)).node.nodeName==="svg"&&(l=!0),n++,!e.voidElement&&f&&f!=="<"){e.node.childNodes||(e.node.childNodes=[]);var N=It(s.slice(u,s.indexOf("<",u)));e.node.childNodes.push({nodeName:"#text",data:N}),t.valueDiffing&&e.node.nodeName==="TEXTAREA"&&(e.node.value=N)}n===0&&e.node.nodeName&&i.push(e.node);var E=a[n-1];E&&e.node.nodeName&&(E.node.childNodes||(E.node.childNodes=[]),E.node.childNodes.push(e.node)),a[n]=e}if((!p||e.voidElement)&&(n>-1&&(e.voidElement||t.caseSensitive&&e.node.nodeName===r.slice(2,-1)||!t.caseSensitive&&e.node.nodeName.toUpperCase()===r.slice(2,-1).toUpperCase())&&--n>-1&&(e.node.nodeName==="svg"&&(l=!1),e=a[n]),f!=="<"&&f)){var c=n===-1?i:a[n].node.childNodes||[],w=s.indexOf("<",u);N=It(s.slice(u,w===-1?void 0:w)),c.push({nodeName:"#text",data:N})}return""}),i[0]},Gt=function(){function s(t,e,i){this.options=i,this.t1=typeof Element<"u"&&j(t,"Element")?rt(t,this.options):typeof t=="string"?lt(t,this.options):JSON.parse(JSON.stringify(t)),this.t2=typeof Element<"u"&&j(e,"Element")?rt(e,this.options):typeof e=="string"?lt(e,this.options):JSON.parse(JSON.stringify(e)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&j(t,"Element")?rt(t,this.options):typeof t=="string"?lt(t,this.options):JSON.parse(JSON.stringify(t)),this.t2Orig=typeof Element<"u"&&j(e,"Element")?rt(e,this.options):typeof e=="string"?lt(e,this.options):JSON.parse(JSON.stringify(e))),this.tracker=new Jt}return s.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},s.prototype.findDiffs=function(t,e){var i;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(i=this.findNextDiff(t,e,[])).length===0&&($t(t,e)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,Ht(t),i=this.findNextDiff(t,e,[])))),i.length>0&&(this.foundAll=!1,this.tracker.add(i),Wt(t,i,this.options))}while(i.length>0);return this.tracker.list},s.prototype.findNextDiff=function(t,e,i){var n,a;if(this.options.maxDepth&&i.length>this.options.maxDepth)return[];if(!t.outerDone){if(n=this.findOuterDiff(t,e,i),this.options.filterOuterDiff&&(a=this.options.filterOuterDiff(t,e,n))&&(n=a),n.length>0)return t.outerDone=!0,n;t.outerDone=!0}if(Object.prototype.hasOwnProperty.call(t,"data"))return[];if(!t.innerDone){if((n=this.findInnerDiff(t,e,i)).length>0)return n;t.innerDone=!0}if(this.options.valueDiffing&&!t.valueDone){if((n=this.findValueDiff(t,e,i)).length>0)return t.valueDone=!0,n;t.valueDone=!0}return[]},s.prototype.findOuterDiff=function(t,e,i){var n,a,l,o,r,d,p=[];if(t.nodeName!==e.nodeName){if(!i.length)throw new Error("Top level nodes have to be of the same kind.");return[new P().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,z(t)).setValue(this.options._const.newValue,z(e)).setValue(this.options._const.route,i)]}if(i.length&&this.options.diffcap<Math.abs((t.childNodes||[]).length-(e.childNodes||[]).length))return[new P().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,z(t)).setValue(this.options._const.newValue,z(e)).setValue(this.options._const.route,i)];if(Object.prototype.hasOwnProperty.call(t,"data")&&t.data!==e.data)return t.nodeName==="#text"?[new P().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,i).setValue(this.options._const.oldValue,t.data).setValue(this.options._const.newValue,e.data)]:[new P().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,i).setValue(this.options._const.oldValue,t.data).setValue(this.options._const.newValue,e.data)];for(a=t.attributes?Object.keys(t.attributes).sort():[],l=e.attributes?Object.keys(e.attributes).sort():[],o=a.length,d=0;d<o;d++)n=a[d],(r=l.indexOf(n))===-1?p.push(new P().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,i).setValue(this.options._const.name,n).setValue(this.options._const.value,t.attributes[n])):(l.splice(r,1),t.attributes[n]!==e.attributes[n]&&p.push(new P().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,i).setValue(this.options._const.name,n).setValue(this.options._const.oldValue,t.attributes[n]).setValue(this.options._const.newValue,e.attributes[n])));for(o=l.length,d=0;d<o;d++)n=l[d],p.push(new P().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,i).setValue(this.options._const.name,n).setValue(this.options._const.value,e.attributes[n]));return p},s.prototype.findInnerDiff=function(t,e,i){var n=t.childNodes?t.childNodes.slice():[],a=e.childNodes?e.childNodes.slice():[],l=Math.max(n.length,a.length),o=Math.abs(n.length-a.length),r=[],d=0;if(!this.options.maxChildCount||l<this.options.maxChildCount){var p=!!(t.subsets&&t.subsetsAge--),m=p?t.subsets:t.childNodes&&e.childNodes?Ut(t,e):[];if(m.length>0&&(r=this.attemptGroupRelocation(t,e,m,i,p)).length>0)return r}for(var u=0;u<l;u+=1){var f=n[u],h=a[u];o&&(f&&!h?f.nodeName==="#text"?(r.push(new P().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,i.concat(d)).setValue(this.options._const.value,f.data)),d-=1):(r.push(new P().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,i.concat(d)).setValue(this.options._const.element,z(f))),d-=1):h&&!f&&(h.nodeName==="#text"?r.push(new P().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,i.concat(d)).setValue(this.options._const.value,h.data)):r.push(new P().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,i.concat(d)).setValue(this.options._const.element,z(h))))),f&&h&&(!this.options.maxChildCount||l<this.options.maxChildCount?r=r.concat(this.findNextDiff(f,h,i.concat(d))):$t(f,h)||(n.length>a.length?(f.nodeName==="#text"?r.push(new P().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,i.concat(d)).setValue(this.options._const.value,f.data)):r.push(new P().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,z(f)).setValue(this.options._const.route,i.concat(d))),n.splice(u,1),u-=1,d-=1,o-=1):n.length<a.length?(r=r.concat([new P().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,z(h)).setValue(this.options._const.route,i.concat(d))]),n.splice(u,0,z(h)),o-=1):r=r.concat([new P().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,z(f)).setValue(this.options._const.newValue,z(h)).setValue(this.options._const.route,i.concat(d))]))),d+=1}return t.innerDone=!0,r},s.prototype.attemptGroupRelocation=function(t,e,i,n,a){for(var l,o,r,d,p,m=function(C,L,V){var O=C.childNodes?_t(C.childNodes.length,!0):[],T=L.childNodes?_t(L.childNodes.length,!0):[],H=0;return V.forEach(function(y){for(var b=y.oldValue+y.length,g=y.newValue+y.length,D=y.oldValue;D<b;D+=1)O[D]=H;for(D=y.newValue;D<g;D+=1)T[D]=H;H+=1}),{gaps1:O,gaps2:T}}(t,e,i),u=m.gaps1,f=m.gaps2,h=t.childNodes.slice(),_=e.childNodes.slice(),N=Math.min(u.length,f.length),E=[],c=0,w=0;c<N;w+=1,c+=1)if(!a||u[c]!==!0&&f[c]!==!0){if(u[w]===!0)if((d=h[w]).nodeName==="#text")if(_[c].nodeName==="#text"){if(d.data!==_[c].data){for(var k=w;h.length>k+1&&h[k+1].nodeName==="#text";)if(k+=1,_[c].data===h[k].data){p=!0;break}p||E.push(new P().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,n.concat(w)).setValue(this.options._const.oldValue,d.data).setValue(this.options._const.newValue,_[c].data))}}else E.push(new P().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,n.concat(w)).setValue(this.options._const.value,d.data)),u.splice(w,1),h.splice(w,1),N=Math.min(u.length,f.length),w-=1,c-=1;else f[c]===!0?E.push(new P().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,z(d)).setValue(this.options._const.newValue,z(_[c])).setValue(this.options._const.route,n.concat(w))):(E.push(new P().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,n.concat(w)).setValue(this.options._const.element,z(d))),u.splice(w,1),h.splice(w,1),N=Math.min(u.length,f.length),w-=1,c-=1);else if(f[c]===!0)(d=_[c]).nodeName==="#text"?(E.push(new P().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,n.concat(w)).setValue(this.options._const.value,d.data)),u.splice(w,0,!0),h.splice(w,0,{nodeName:"#text",data:d.data}),N=Math.min(u.length,f.length)):(E.push(new P().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,n.concat(w)).setValue(this.options._const.element,z(d))),u.splice(w,0,!0),h.splice(w,0,z(d)),N=Math.min(u.length,f.length));else if(u[w]!==f[c]){if(E.length>0)return E;if(r=i[u[w]],(o=Math.min(r.newValue,h.length-r.length))!==r.oldValue){l=!1;for(var S=0;S<r.length;S+=1)Ct(h[o+S],h[r.oldValue+S],{},!1,!0)||(l=!0);if(l)return[new P().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,r.length).setValue(this.options._const.from,r.oldValue).setValue(this.options._const.to,o).setValue(this.options._const.route,n)]}}}return E},s.prototype.findValueDiff=function(t,e,i){var n=[];return t.selected!==e.selected&&n.push(new P().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,t.selected).setValue(this.options._const.newValue,e.selected).setValue(this.options._const.route,i)),(t.value||e.value)&&t.value!==e.value&&t.nodeName!=="OPTION"&&n.push(new P().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,t.value||"").setValue(this.options._const.newValue,e.value||"").setValue(this.options._const.route,i)),t.checked!==e.checked&&n.push(new P().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,t.checked).setValue(this.options._const.newValue,e.checked).setValue(this.options._const.route,i)),n},s}(),Kt={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(s,t,e,i){s.data=i},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},te=function(){function s(t){if(t===void 0&&(t={}),Object.entries(Kt).forEach(function(n){var a=n[0],l=n[1];Object.prototype.hasOwnProperty.call(t,a)||(t[a]=l)}),!t._const){var e=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],i={};t.compress?e.forEach(function(n,a){return i[n]=a}):e.forEach(function(n){return i[n]=n}),t._const=i}this.options=t}return s.prototype.apply=function(t,e){return function(i,n,a){return n.every(function(l){return st(i,l,a)})}(t,e,this.options)},s.prototype.undo=function(t,e){return zt(t,e,this.options)},s.prototype.diff=function(t,e){return new Gt(t,e,this.options).init()},s}();const kt=(s,t,e,{classes:i,format:n,hiddenHeader:a,sortable:l,scrollY:o,type:r},{noColumnWidths:d,unhideHeader:p})=>({nodeName:"TR",childNodes:s.map((m,u)=>{const f=t[u]||{type:r,format:n,sortable:!0,searchable:!0};if(f.hidden)return;const h=m.attributes?{...m.attributes}:{};if(f.sortable&&l&&(!o.length||p)&&(f.filter?h["data-filterable"]="true":h["data-sortable"]="true"),f.headerClass&&(h.class=tt(h.class,f.headerClass)),e.sort&&e.sort.column===u){const N=e.sort.dir==="asc"?i.ascending:i.descending;h.class=tt(h.class,N),h["aria-sort"]=e.sort.dir==="asc"?"ascending":"descending"}else e.filters[u]&&(h.class=tt(h.class,i.filterActive));if(e.widths[u]&&!d){const N=`width: ${e.widths[u]}%;`;h.style=tt(h.style,N)}if(o.length&&!p){const N="padding-bottom: 0;padding-top: 0;border: 0;";h.style=tt(h.style,N)}const _=m.type==="html"?m.data:[{nodeName:"#text",data:m.text??String(m.data)}];return{nodeName:"TH",attributes:h,childNodes:!a&&!o.length||p?f.sortable&&l?[{nodeName:"BUTTON",attributes:{class:f.filter?i.filter:i.sorter},childNodes:_}]:_:[{nodeName:"#text",data:""}]}}).filter(m=>m)}),jt=(s,t,e,i,n,a,{classes:l,hiddenHeader:o,header:r,footer:d,format:p,sortable:m,scrollY:u,type:f,rowRender:h,tabIndex:_},{noColumnWidths:N,unhideHeader:E,renderHeader:c},w,k)=>{const S={nodeName:"TABLE",attributes:{...s},childNodes:[{nodeName:"TBODY",childNodes:e.map(({row:C,index:L})=>{const V={nodeName:"TR",attributes:{...C.attributes,"data-index":String(L)},childNodes:C.cells.map((O,T)=>{const H=i[T]||{type:f,format:p,sortable:!0,searchable:!0};if(H.hidden)return;const y={nodeName:"TD",attributes:O.attributes?{...O.attributes}:{},childNodes:H.type==="html"?O.data:[{nodeName:"#text",data:U(O)}]};if(r||d||!n.widths[T]||N||(y.attributes.style=tt(y.attributes.style,`width: ${n.widths[T]}%;`)),H.cellClass&&(y.attributes.class=tt(y.attributes.class,H.cellClass)),H.render){const b=H.render(O.data,y,L,T);if(b){if(typeof b!="string")return b;{const g=lt(`<td>${b}</td>`);g.childNodes.length===1&&["#text","#comment"].includes(g.childNodes[0].nodeName)?y.childNodes[0].data=b:y.childNodes=g.childNodes}}}return y}).filter(O=>O)};if(L===a&&(V.attributes.class=tt(V.attributes.class,l.cursor)),h){const O=h(C,V,L);if(O){if(typeof O!="string")return O;{const T=lt(`<tr>${O}</tr>`);!T.childNodes||T.childNodes.length===1&&["#text","#comment"].includes(T.childNodes[0].nodeName)?V.childNodes[0].data=O:V.childNodes=T.childNodes}}}return V})}]};if(S.attributes.class=tt(S.attributes.class,l.table),r||d||c){const C=kt(t,i,n,{classes:l,hiddenHeader:o,sortable:m,scrollY:u},{noColumnWidths:N,unhideHeader:E});if(r||c){const L={nodeName:"THEAD",childNodes:[C]};!u.length&&!o||E||(L.attributes={style:"height: 0px;"}),S.childNodes.unshift(L)}if(d){const L={nodeName:"TFOOT",childNodes:[r?structuredClone(C):C]};!u.length&&!o||E||(L.attributes={style:"height: 0px;"}),S.childNodes.push(L)}}return w.forEach(C=>S.childNodes.push(C)),k.forEach(C=>S.childNodes.push(C)),_!==!1&&(S.attributes.tabindex=String(_)),S};function qt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gt=qt(function(){var s=1e3,t=6e4,e=36e5,i="millisecond",n="second",a="minute",l="hour",o="day",r="week",d="month",p="quarter",m="year",u="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var b=["th","st","nd","rd"],g=y%100;return"["+y+(b[(g-20)%10]||b[g]||b[0])+"]"}},E=function(y,b,g){var D=String(y);return!D||D.length>=b?y:""+Array(b+1-D.length).join(g)+y},c={s:E,z:function(y){var b=-y.utcOffset(),g=Math.abs(b),D=Math.floor(g/60),v=g%60;return(b<=0?"+":"-")+E(D,2,"0")+":"+E(v,2,"0")},m:function y(b,g){if(b.date()<g.date())return-y(g,b);var D=12*(g.year()-b.year())+(g.month()-b.month()),v=b.clone().add(D,d),x=g-v<0,$=b.clone().add(D+(x?-1:1),d);return+(-(D+(g-v)/(x?v-$:$-v))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:d,y:m,w:r,d:o,D:u,h:l,m:a,s:n,ms:i,Q:p}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},w="en",k={};k[w]=N;var S="$isDayjsObject",C=function(y){return y instanceof T||!(!y||!y[S])},L=function y(b,g,D){var v;if(!b)return w;if(typeof b=="string"){var x=b.toLowerCase();k[x]&&(v=x),g&&(k[x]=g,v=x);var $=b.split("-");if(!v&&$.length>1)return y($[0])}else{var A=b.name;k[A]=b,v=A}return!D&&v&&(w=v),v||!D&&w},V=function(y,b){if(C(y))return y.clone();var g=typeof b=="object"?b:{};return g.date=y,g.args=arguments,new T(g)},O=c;O.l=L,O.i=C,O.w=function(y,b){return V(y,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var T=function(){function y(g){this.$L=L(g.locale,null,!0),this.parse(g),this.$x=this.$x||g.x||{},this[S]=!0}var b=y.prototype;return b.parse=function(g){this.$d=function(D){var v=D.date,x=D.utc;if(v===null)return new Date(NaN);if(O.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var $=v.match(h);if($){var A=$[2]-1||0,I=($[7]||"0").substring(0,3);return x?new Date(Date.UTC($[1],A,$[3]||1,$[4]||0,$[5]||0,$[6]||0,I)):new Date($[1],A,$[3]||1,$[4]||0,$[5]||0,$[6]||0,I)}}return new Date(v)}(g),this.init()},b.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},b.$utils=function(){return O},b.isValid=function(){return this.$d.toString()!==f},b.isSame=function(g,D){var v=V(g);return this.startOf(D)<=v&&v<=this.endOf(D)},b.isAfter=function(g,D){return V(g)<this.startOf(D)},b.isBefore=function(g,D){return this.endOf(D)<V(g)},b.$g=function(g,D,v){return O.u(g)?this[D]:this.set(v,g)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(g,D){var v=this,x=!!O.u(D)||D,$=O.p(g),A=function(et,W){var K=O.w(v.$u?Date.UTC(v.$y,W,et):new Date(v.$y,W,et),v);return x?K:K.endOf(o)},I=function(et,W){return O.w(v.toDate()[et].apply(v.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(W)),v)},B=this.$W,J=this.$M,G=this.$D,ct="set"+(this.$u?"UTC":"");switch($){case m:return x?A(1,0):A(31,11);case d:return x?A(1,J):A(0,J+1);case r:var it=this.$locale().weekStart||0,nt=(B<it?B+7:B)-it;return A(x?G-nt:G+(6-nt),J);case o:case u:return I(ct+"Hours",0);case l:return I(ct+"Minutes",1);case a:return I(ct+"Seconds",2);case n:return I(ct+"Milliseconds",3);default:return this.clone()}},b.endOf=function(g){return this.startOf(g,!1)},b.$set=function(g,D){var v,x=O.p(g),$="set"+(this.$u?"UTC":""),A=(v={},v[o]=$+"Date",v[u]=$+"Date",v[d]=$+"Month",v[m]=$+"FullYear",v[l]=$+"Hours",v[a]=$+"Minutes",v[n]=$+"Seconds",v[i]=$+"Milliseconds",v)[x],I=x===o?this.$D+(D-this.$W):D;if(x===d||x===m){var B=this.clone().set(u,1);B.$d[A](I),B.init(),this.$d=B.set(u,Math.min(this.$D,B.daysInMonth())).$d}else A&&this.$d[A](I);return this.init(),this},b.set=function(g,D){return this.clone().$set(g,D)},b.get=function(g){return this[O.p(g)]()},b.add=function(g,D){var v,x=this;g=Number(g);var $=O.p(D),A=function(J){var G=V(x);return O.w(G.date(G.date()+Math.round(J*g)),x)};if($===d)return this.set(d,this.$M+g);if($===m)return this.set(m,this.$y+g);if($===o)return A(1);if($===r)return A(7);var I=(v={},v[a]=t,v[l]=e,v[n]=s,v)[$]||1,B=this.$d.getTime()+g*I;return O.w(B,this)},b.subtract=function(g,D){return this.add(-1*g,D)},b.format=function(g){var D=this,v=this.$locale();if(!this.isValid())return v.invalidDate||f;var x=g||"YYYY-MM-DDTHH:mm:ssZ",$=O.z(this),A=this.$H,I=this.$m,B=this.$M,J=v.weekdays,G=v.months,ct=v.meridiem,it=function(W,K,at,ht){return W&&(W[K]||W(D,x))||at[K].slice(0,ht)},nt=function(W){return O.s(A%12||12,W,"0")},et=ct||function(W,K,at){var ht=W<12?"AM":"PM";return at?ht.toLowerCase():ht};return x.replace(_,function(W,K){return K||function(at){switch(at){case"YY":return String(D.$y).slice(-2);case"YYYY":return O.s(D.$y,4,"0");case"M":return B+1;case"MM":return O.s(B+1,2,"0");case"MMM":return it(v.monthsShort,B,G,3);case"MMMM":return it(G,B);case"D":return D.$D;case"DD":return O.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return it(v.weekdaysMin,D.$W,J,2);case"ddd":return it(v.weekdaysShort,D.$W,J,3);case"dddd":return J[D.$W];case"H":return String(A);case"HH":return O.s(A,2,"0");case"h":return nt(1);case"hh":return nt(2);case"a":return et(A,I,!0);case"A":return et(A,I,!1);case"m":return String(I);case"mm":return O.s(I,2,"0");case"s":return String(D.$s);case"ss":return O.s(D.$s,2,"0");case"SSS":return O.s(D.$ms,3,"0");case"Z":return $}return null}(W)||$.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(g,D,v){var x,$=this,A=O.p(D),I=V(g),B=(I.utcOffset()-this.utcOffset())*t,J=this-I,G=function(){return O.m($,I)};switch(A){case m:x=G()/12;break;case d:x=G();break;case p:x=G()/3;break;case r:x=(J-B)/6048e5;break;case o:x=(J-B)/864e5;break;case l:x=J/e;break;case a:x=J/t;break;case n:x=J/s;break;default:x=J}return v?x:O.a(x)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return k[this.$L]},b.locale=function(g,D){if(!g)return this.$L;var v=this.clone(),x=L(g,D,!0);return x&&(v.$L=x),v},b.clone=function(){return O.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),H=T.prototype;return V.prototype=H,[["$ms",i],["$s",n],["$m",a],["$H",l],["$W",o],["$M",d],["$y",m],["$D",u]].forEach(function(y){H[y[1]]=function(b){return this.$g(b,y[0],y[1])}}),V.extend=function(y,b){return y.$i||(y(b,T,V),y.$i=!0),V},V.locale=L,V.isDayjs=C,V.unix=function(y){return V(1e3*y)},V.en=k[w],V.Ls=k,V.p={},V}()),ee=qt(function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,e=/\d\d/,i=/\d\d?/,n=/\d*[^-_:/,()\s\d]+/,a={},l=function(f){return(f=+f)+(f>68?1900:2e3)},o=function(f){return function(h){this[f]=+h}},r=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(h){if(!h||h==="Z")return 0;var _=h.match(/([+-]|\d\d)/g),N=60*_[1]+(+_[2]||0);return N===0?0:_[0]==="+"?-N:N}(f)}],d=function(f){var h=a[f];return h&&(h.indexOf?h:h.s.concat(h.f))},p=function(f,h){var _,N=a.meridiem;if(N){for(var E=1;E<=24;E+=1)if(f.indexOf(N(E,0,h))>-1){_=E>12;break}}else _=f===(h?"pm":"PM");return _},m={A:[n,function(f){this.afternoon=p(f,!1)}],a:[n,function(f){this.afternoon=p(f,!0)}],S:[/\d/,function(f){this.milliseconds=100*+f}],SS:[e,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[i,o("seconds")],ss:[i,o("seconds")],m:[i,o("minutes")],mm:[i,o("minutes")],H:[i,o("hours")],h:[i,o("hours")],HH:[i,o("hours")],hh:[i,o("hours")],D:[i,o("day")],DD:[e,o("day")],Do:[n,function(f){var h=a.ordinal,_=f.match(/\d+/);if(this.day=_[0],h)for(var N=1;N<=31;N+=1)h(N).replace(/\[|\]/g,"")===f&&(this.day=N)}],M:[i,o("month")],MM:[e,o("month")],MMM:[n,function(f){var h=d("months"),_=(d("monthsShort")||h.map(function(N){return N.slice(0,3)})).indexOf(f)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[n,function(f){var h=d("months").indexOf(f)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,o("year")],YY:[e,function(f){this.year=l(f)}],YYYY:[/\d{4}/,o("year")],Z:r,ZZ:r};function u(f){var h,_;h=f,_=a&&a.formats;for(var N=(f=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(L,V,O){var T=O&&O.toUpperCase();return V||_[O]||s[O]||_[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(H,y,b){return y||b.slice(1)})})).match(t),E=N.length,c=0;c<E;c+=1){var w=N[c],k=m[w],S=k&&k[0],C=k&&k[1];N[c]=C?{regex:S,parser:C}:w.replace(/^\[|\]$/g,"")}return function(L){for(var V={},O=0,T=0;O<E;O+=1){var H=N[O];if(typeof H=="string")T+=H.length;else{var y=H.regex,b=H.parser,g=L.slice(T),D=y.exec(g)[0];b.call(V,D),L=L.replace(D,"")}}return function(v){var x=v.afternoon;if(x!==void 0){var $=v.hours;x?$<12&&(v.hours+=12):$===12&&(v.hours=0),delete v.afternoon}}(V),V}}return function(f,h,_){_.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(l=f.parseTwoDigitYear);var N=h.prototype,E=N.parse;N.parse=function(c){var w=c.date,k=c.utc,S=c.args;this.$u=k;var C=S[1];if(typeof C=="string"){var L=S[2]===!0,V=S[3]===!0,O=L||V,T=S[2];V&&(T=S[2]),a=this.$locale(),!L&&T&&(a=_.Ls[T]),this.$d=function(g,D,v){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*g);var x=u(D)(g),$=x.year,A=x.month,I=x.day,B=x.hours,J=x.minutes,G=x.seconds,ct=x.milliseconds,it=x.zone,nt=new Date,et=I||($||A?1:nt.getDate()),W=$||nt.getFullYear(),K=0;$&&!A||(K=A>0?A-1:nt.getMonth());var at=B||0,ht=J||0,Tt=G||0,At=ct||0;return it?new Date(Date.UTC(W,K,et,at,ht,Tt,At+60*it.offset*1e3)):v?new Date(Date.UTC(W,K,et,at,ht,Tt,At)):new Date(W,K,et,at,ht,Tt,At)}catch{return new Date("")}}(w,C,k),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),O&&w!=this.format(C)&&(this.$d=new Date("")),a={}}else if(C instanceof Array)for(var H=C.length,y=1;y<=H;y+=1){S[1]=C[y-1];var b=_.apply(this,S);if(b.isValid()){this.$d=b.$d,this.$L=b.$L,this.init();break}y===H&&(this.$d=new Date(""))}else E.call(this,c)}}}());gt.extend(ee);const Dt=(s,t)=>{let e;if(t)switch(t){case"ISO_8601":e=s;break;case"RFC_2822":e=gt(s.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":e=gt(s,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":e=gt(s).unix();break;default:e=gt(s,t,!0).valueOf()}return e},dt=(s,t)=>{if((s==null?void 0:s.constructor)===Object&&Object.prototype.hasOwnProperty.call(s,"data")&&!Object.keys(s).find(i=>!["text","order","data","attributes"].includes(i)))return s;const e={data:s};switch(t.type){case"string":typeof s!="string"&&(e.text=String(e.data),e.order=e.text);break;case"date":t.format&&(e.order=Dt(String(e.data),t.format));break;case"number":e.text=String(e.data),e.data=parseFloat(e.data),e.order=e.data;break;case"html":{const i=Array.isArray(e.data)?{nodeName:"TD",childNodes:e.data}:lt(`<td>${String(e.data)}</td>`);e.data=i.childNodes||[];const n=X(i);e.text=n,e.order=n;break}case"boolean":typeof e.data=="string"&&(e.data=e.data.toLowerCase().trim()),e.data=!["false",!1,null,void 0,0].includes(e.data),e.order=e.data?1:0,e.text=String(e.data);break;case"other":e.text="",e.order=0;break;default:e.text=JSON.stringify(e.data)}return e},bt=s=>{if(s instanceof Object&&s.constructor===Object&&s.hasOwnProperty("data")&&(typeof s.text=="string"||typeof s.data=="string"))return s;const t={data:s};if(typeof s=="string"){if(s.length){const e=lt(`<th>${s}</th>`);if(e.childNodes&&(e.childNodes.length!==1||e.childNodes[0].nodeName!=="#text")){t.data=e.childNodes,t.type="html";const i=X(e);t.text=i}}}else[null,void 0].includes(s)?t.text="":t.text=JSON.stringify(s);return t},Ft=(s,t=void 0,e,i,n)=>{var l,o;const a={data:[],headings:[]};if(s.headings)a.headings=s.headings.map(r=>bt(r));else if(t!=null&&t.tHead)a.headings=Array.from(t.tHead.querySelectorAll("th")).map((r,d)=>{var u,f,h,_,N;const p=(E=>{const c=rt(E,{valueDiffing:!1});let w;return w=!c.childNodes||c.childNodes.length===1&&c.childNodes[0].nodeName==="#text"?{data:E.innerText,type:"string"}:{data:c.childNodes,type:"html",text:X(c)},w.attributes=c.attributes,w})(r);e[d]||(e[d]={type:i,format:n,searchable:!0,sortable:!0});const m=e[d];return((u=r.dataset.sortable)==null?void 0:u.trim().toLowerCase())!=="false"&&((f=r.dataset.sort)==null?void 0:f.trim().toLowerCase())!=="false"||(m.sortable=!1),((h=r.dataset.searchable)==null?void 0:h.trim().toLowerCase())==="false"&&(m.searchable=!1),((_=r.dataset.hidden)==null?void 0:_.trim().toLowerCase())!=="true"&&((N=r.getAttribute("hidden"))==null?void 0:N.trim().toLowerCase())!=="true"||(m.hidden=!0),["number","string","html","date","boolean","other"].includes(r.dataset.type)&&(m.type=r.dataset.type,m.type==="date"&&r.dataset.format&&(m.format=r.dataset.format)),p});else if((l=s.data)!=null&&l.length){const r=s.data[0],d=Array.isArray(r)?r:r.cells;a.headings=d.map(p=>bt(""))}else t!=null&&t.tBodies.length&&(a.headings=Array.from(t.tBodies[0].rows[0].cells).map(r=>bt("")));for(let r=0;r<a.headings.length;r++)e[r]||(e[r]={type:i,format:n,sortable:!0,searchable:!0});if(s.data){const r=a.headings.map(d=>d.data?String(d.data):d.text);a.data=s.data.map(d=>{let p,m;return Array.isArray(d)?(p={},m=d):d.hasOwnProperty("cells")&&Object.keys(d).every(u=>["cells","attributes"].includes(u))?(p=d.attributes,m=d.cells):(p={},m=[],Object.entries(d).forEach(([u,f])=>{const h=r.indexOf(u);h>-1&&(m[h]=f)})),{attributes:p,cells:m.map((u,f)=>dt(u,e[f]))}})}else(o=t==null?void 0:t.tBodies)!=null&&o.length&&(a.data=Array.from(t.tBodies[0].rows).map(r=>({attributes:pt(r.attributes),cells:Array.from(r.cells).map((d,p)=>{const m=d.dataset.content?dt(d.dataset.content,e[p]):((u,f)=>{let h;switch(f.type){case"string":h={data:u.innerText};break;case"date":{const _=u.innerText;h={data:_,order:Dt(_,f.format)};break}case"number":{const _=parseFloat(u.innerText);h={data:_,order:_,text:u.innerText};break}case"boolean":{const _=!["false","0","null","undefined"].includes(u.innerText.toLowerCase().trim());h={data:_,text:_?"1":"0",order:_?1:0};break}default:h={data:rt(u,{valueDiffing:!1}).childNodes||[],text:u.innerText,order:u.innerText}}return h.attributes=pt(u.attributes),h})(d,e[p]);return d.dataset.order&&(m.order=isNaN(parseFloat(d.dataset.order))?d.dataset.order:parseFloat(d.dataset.order)),m})})));if(a.data.length&&a.data[0].cells.length!==a.headings.length)throw new Error("Data heading length mismatch.");return a};class se{constructor(t){M(this,"cursor");M(this,"dt");this.dt=t,this.cursor=!1}setCursor(t=!1){if(t===this.cursor)return;const e=this.cursor;if(this.cursor=t,this.dt._renderTable(),t!==!1&&this.dt.options.scrollY){const i=F(this.dt.options.classes.cursor),n=this.dt.dom.querySelector(`tr${i}`);n&&n.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,e)}add(t){if(!Array.isArray(t)||t.length<1)return;const e={cells:t.map((i,n)=>{const a=this.dt.columns.settings[n];return dt(i,a)})};this.dt.data.data.push(e),this.dt.hasRows=!0,this.dt.update(!0)}remove(t){if(!Array.isArray(t))return this.remove([t]);this.dt.data.data=this.dt.data.data.filter((e,i)=>!t.includes(i)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(t,e){return this.dt.data.data.findIndex(i=>{const n=i.cells[t];return U(n).toLowerCase().includes(String(e).toLowerCase())})}findRow(t,e){const i=this.findRowIndex(t,e);if(i<0)return{index:-1,row:null,cols:[]};const n=this.dt.data.data[i],a=n.cells.map(l=>l.data);return{index:i,row:n,cols:a}}updateRow(t,e){const i={cells:e.map((n,a)=>{const l=this.dt.columns.settings[a];return dt(n,l)})};this.dt.data.data.splice(t,1,i),this.dt.update(!0)}}class ie{constructor(t){M(this,"dt");M(this,"settings");M(this,"_state");this.dt=t,this.init()}init(){[this.settings,this._state]=((t=[],e,i)=>{let n=[],a=!1;const l=[];return t.forEach(o=>{(Array.isArray(o.select)?o.select:[o.select]).forEach(r=>{n[r]?o.type&&(n[r].type=o.type):n[r]={type:o.type||e,sortable:!0,searchable:!0};const d=n[r];o.render&&(d.render=o.render),o.format?d.format=o.format:o.type==="date"&&(d.format=i),o.cellClass&&(d.cellClass=o.cellClass),o.headerClass&&(d.headerClass=o.headerClass),o.locale&&(d.locale=o.locale),o.sortable===!1?d.sortable=!1:(o.numeric&&(d.numeric=o.numeric),o.caseFirst&&(d.caseFirst=o.caseFirst)),o.searchable===!1?d.searchable=!1:o.sensitivity&&(d.sensitivity=o.sensitivity),(d.searchable||d.sortable)&&o.ignorePunctuation!==void 0&&(d.ignorePunctuation=o.ignorePunctuation),o.hidden&&(d.hidden=!0),o.filter&&(d.filter=o.filter),o.sortSequence&&(d.sortSequence=o.sortSequence),o.sort&&(o.filter?l[r]=o.sort:a={column:r,dir:o.sort}),o.searchItemSeparator!==void 0&&(d.searchItemSeparator=o.searchItemSeparator)})}),n=n.map(o=>o||{type:e,format:e==="date"?i:void 0,sortable:!0,searchable:!0}),[n,{filters:l,sort:a,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(t){return t<0||t>=this.size()?null:{...this.settings[t]}}size(){return this.settings.length}swap(t){if(t.length===2){const e=this.dt.data.headings.map((l,o)=>o),i=t[0],n=t[1],a=e[n];return e[n]=e[i],e[i]=a,this.order(e)}}order(t){this.dt.data.headings=t.map(e=>this.dt.data.headings[e]),this.dt.data.data.forEach(e=>e.cells=t.map(i=>e.cells[i])),this.settings=t.map(e=>this.settings[e]),this.dt.update()}hide(t){Array.isArray(t)||(t=[t]),t.length&&(t.forEach(e=>{this.settings[e]||(this.settings[e]={type:"string"}),this.settings[e].hidden=!0}),this.dt.update())}show(t){Array.isArray(t)||(t=[t]),t.length&&(t.forEach(e=>{this.settings[e]||(this.settings[e]={type:"string",sortable:!0}),delete this.settings[e].hidden}),this.dt.update())}visible(t){var e;return t===void 0&&(t=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(t)?t.map(i=>{var n;return!((n=this.settings[i])!=null&&n.hidden)}):!((e=this.settings[t])!=null&&e.hidden)}add(t){const e=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([bt(t.heading)]),this.dt.data.data.forEach((i,n)=>{i.cells=i.cells.concat([dt(t.data[n],t)])}),this.settings[e]={type:t.type||"string",sortable:!0,searchable:!0},t.type||t.format||t.sortable||t.render||t.filter){const i=this.settings[e];t.render&&(i.render=t.render),t.format&&(i.format=t.format),t.cellClass&&(i.cellClass=t.cellClass),t.headerClass&&(i.headerClass=t.headerClass),t.locale&&(i.locale=t.locale),t.sortable===!1?i.sortable=!1:(t.numeric&&(i.numeric=t.numeric),t.caseFirst&&(i.caseFirst=t.caseFirst)),t.searchable===!1?i.searchable=!1:t.sensitivity&&(i.sensitivity=t.sensitivity),(i.searchable||i.sortable)&&t.ignorePunctuation&&(i.ignorePunctuation=t.ignorePunctuation),t.hidden&&(i.hidden=!0),t.filter&&(i.filter=t.filter),t.sortSequence&&(i.sortSequence=t.sortSequence)}this.dt.update(!0)}remove(t){Array.isArray(t)||(t=[t]),this.dt.data.headings=this.dt.data.headings.filter((e,i)=>!t.includes(i)),this.dt.data.data.forEach(e=>e.cells=e.cells.filter((i,n)=>!t.includes(n))),this.dt.update(!0)}filter(t,e=!1){var a,l;if(!((l=(a=this.settings[t])==null?void 0:a.filter)!=null&&l.length))return;const i=this._state.filters[t];let n;if(i){let o=!1;n=this.settings[t].filter.find(r=>!!o||(r===i&&(o=!0),!1))}else{const o=this.settings[t].filter;n=o?o[0]:void 0}n?this._state.filters[t]=n:i&&(this._state.filters[t]=void 0),this.dt._currentPage=1,this.dt.update(),e||this.dt.emit("datatable.filter",t,n)}sort(t,e=void 0,i=!1){var l;const n=this.settings[t];if(i||this.dt.emit("datatable.sorting",t,e),!e){const o=!(!this._state.sort||this._state.sort.column!==t)&&((l=this._state.sort)==null?void 0:l.dir),r=(n==null?void 0:n.sortSequence)||["asc","desc"];if(o){const d=r.indexOf(o);e=d===-1?r[0]||"asc":d===r.length-1?r[0]:r[d+1]}else e=r.length?r[0]:"asc"}const a=!!["string","html"].includes(n.type)&&new Intl.Collator(n.locale||this.dt.options.locale,{usage:"sort",numeric:n.numeric||this.dt.options.numeric,caseFirst:n.caseFirst||this.dt.options.caseFirst,ignorePunctuation:n.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((o,r)=>{const d=o.cells[t],p=r.cells[t];let m=d.order??U(d),u=p.order??U(p);if(e==="desc"){const f=m;m=u,u=f}return a?a.compare(String(m),String(u)):m<u?-1:m>u?1:0}),this._state.sort={column:t,dir:e},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",t,e)):i||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",t,e))}_measureWidths(){var e,i,n,a;const t=this.dt.data.headings.filter((l,o)=>{var r;return!((r=this.settings[o])!=null&&r.hidden)});if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(t!=null&&t.length)){this._state.widths=[];const l={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(l.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),l.noColumnWidths=!0,this.dt._renderTable(l);const o=Array.from(((i=(e=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:e.firstElementChild)==null?void 0:i.querySelectorAll("th"))||[]);let r=0;const d=this.dt.data.headings.map((m,u)=>{var h;if((h=this.settings[u])!=null&&h.hidden)return 0;const f=o[r].offsetWidth;return r+=1,f}),p=d.reduce((m,u)=>m+u,0);this._state.widths=d.map(m=>m/p*100)}else{l.renderHeader=!0,this.dt._renderTable(l);const o=Array.from(((a=(n=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:n.firstElementChild)==null?void 0:a.querySelectorAll("th"))||[]);let r=0;const d=this.dt.data.headings.map((m,u)=>{var h;if((h=this.settings[u])!=null&&h.hidden)return 0;const f=o[r].offsetWidth;return r+=1,f}),p=d.reduce((m,u)=>m+u,0);this._state.widths=d.map(m=>m/p*100)}this.dt._renderTable()}}}const Mt={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"‹",nextText:"›",firstText:"«",lastText:"»",ellipsisText:"…",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:void 0,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(s,t)=>`<div class='${s.classes.top}'>
    ${s.paging&&s.perPageSelect?`<div class='${s.classes.dropdown}'>
            <label>
                <select class='${s.classes.selector}' name="per-page"></select> ${s.labels.perPage}
            </label>
        </div>`:""}
    ${s.searchable?`<div class='${s.classes.search}'>
            <input class='${s.classes.input}' placeholder='${s.labels.placeholder}' type='search' name="search" title='${s.labels.searchTitle}'${t.id?` aria-controls="${t.id}"`:""}>
        </div>`:""}
</div>
<div class='${s.classes.container}'${s.scrollY.length?` style='height: ${s.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${s.classes.bottom}'>
    ${s.paging?`<div class='${s.classes.info}'></div>`:""}
    <nav class='${s.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},vt=(s,t,e,i={})=>({nodeName:"LI",attributes:{class:i.active&&!i.hidden?`${e.classes.paginationListItem} ${e.classes.active}`:i.hidden?`${e.classes.paginationListItem} ${e.classes.hidden} ${e.classes.disabled}`:e.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(s),class:e.classes.paginationListItemLink,"aria-label":e.labels.pageTitle.replace("{page}",String(s))},childNodes:[{nodeName:"#text",data:t}]}]}),ne=(s,t,e,i,n)=>{let a=[];if(n.firstLast&&a.push(vt(1,n.firstText,n)),n.nextPrev){const o=s?1:e-1;a.push(vt(o,n.prevText,n,{hidden:s}))}let l=[...Array(i).keys()].map(o=>vt(o+1,String(o+1),n,{active:o===e-1}));if(n.truncatePager&&(l=((o,r,d,p)=>{const m=p.pagerDelta,u=p.classes,f=p.ellipsisText,h=2*m;let _=r-m,N=r+m;r<4-m+h?N=3+h:r>d-(3-m+h)&&(_=d-(2+h));const E=[];for(let k=1;k<=d;k++)if(k==1||k==d||k>=_&&k<=N){const S=o[k-1];E.push(S)}let c;const w=[];return E.forEach(k=>{const S=parseInt(k.childNodes[0].attributes["data-page"],10);if(c){const C=parseInt(c.childNodes[0].attributes["data-page"],10);if(S-C==2)w.push(o[C]);else if(S-C!=1){const L={nodeName:"LI",attributes:{class:`${u.paginationListItem} ${u.ellipsis} ${u.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:u.paginationListItemLink},childNodes:[{nodeName:"#text",data:f}]}]};w.push(L)}}w.push(k),c=k}),w})(l,e,i,n)),a=a.concat(l),n.nextPrev){const o=t?i:e+1;a.push(vt(o,n.nextText,n,{hidden:t}))}return n.firstLast&&a.push(vt(i,n.lastText,n)),{nodeName:"UL",attributes:{class:n.classes.paginationList},childNodes:l.length>1?a:[]}},ae={classes:{row:"datatable-editor-row",form:"datatable-editor-form",item:"datatable-editor-item",menu:"datatable-editor-menu",save:"datatable-editor-save",block:"datatable-editor-block",cancel:"datatable-editor-cancel",close:"datatable-editor-close",inner:"datatable-editor-inner",input:"datatable-editor-input",label:"datatable-editor-label",modal:"datatable-editor-modal",action:"datatable-editor-action",header:"datatable-editor-header",wrapper:"datatable-editor-wrapper",editable:"datatable-editor-editable",container:"datatable-editor-container",separator:"datatable-editor-separator"},labels:{closeX:"x",editCell:"Edit Cell",editRow:"Edit Row",removeRow:"Remove Row",reallyRemove:"Are you sure?",reallyCancel:"Do you really want to cancel?",save:"Save",cancel:"Cancel"},cancelModal:s=>confirm(s.options.labels.reallyCancel),inline:!0,hiddenColumns:!1,contextMenu:!0,clickEvent:"dblclick",excludeColumns:[],menuItems:[{text:s=>s.options.labels.editCell,action:(s,t)=>{if(!(s.event.target instanceof Element))return;const e=s.event.target.closest("td");return s.editCell(e)}},{text:s=>s.options.labels.editRow,action:(s,t)=>{if(!(s.event.target instanceof Element))return;const e=s.event.target.closest("tr");return s.editRow(e)}},{separator:!0},{text:s=>s.options.labels.removeRow,action:(s,t)=>{if(s.event.target instanceof Element&&confirm(s.options.labels.reallyRemove)){const e=s.event.target.closest("tr");s.removeRow(e)}}}]};class oe{constructor(t,e={}){M(this,"menuOpen");M(this,"containerDOM");M(this,"data");M(this,"disabled");M(this,"dt");M(this,"editing");M(this,"editingCell");M(this,"editingRow");M(this,"event");M(this,"events");M(this,"initialized");M(this,"limits");M(this,"menuDOM");M(this,"modalDOM");M(this,"options");M(this,"originalRowRender");M(this,"rect");M(this,"wrapperDOM");this.dt=t,this.options={...ae,...e}}init(){var t;this.initialized||((t=this.options.classes.editable)==null||t.split(" ").forEach(e=>this.dt.wrapperDOM.classList.add(e)),this.options.inline&&(this.originalRowRender=this.dt.options.rowRender,this.dt.options.rowRender=(e,i,n)=>{let a=this.rowRender(e,i,n);return this.originalRowRender&&(a=this.originalRowRender(e,a,n)),a}),this.options.contextMenu&&(this.containerDOM=q("div",{id:this.options.classes.container}),this.wrapperDOM=q("div",{class:this.options.classes.wrapper}),this.menuDOM=q("ul",{class:this.options.classes.menu}),this.options.menuItems&&this.options.menuItems.length&&this.options.menuItems.forEach(e=>{const i=q("li",{class:e.separator?this.options.classes.separator:this.options.classes.item});if(!e.separator){const n=q("a",{class:this.options.classes.action,href:e.url||"#",html:typeof e.text=="function"?e.text(this):e.text});i.appendChild(n),e.action&&typeof e.action=="function"&&n.addEventListener("click",a=>{a.preventDefault(),e.action(this,a)})}this.menuDOM.appendChild(i)}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this.updateMenu()),this.data={},this.menuOpen=!1,this.editing=!1,this.editingRow=!1,this.editingCell=!1,this.bindEvents(),setTimeout(()=>{this.initialized=!0,this.dt.emit("editable.init")},10))}bindEvents(){this.events={keydown:this.keydown.bind(this),click:this.click.bind(this)},this.dt.dom.addEventListener(this.options.clickEvent,this.events.click),document.addEventListener("keydown",this.events.keydown),this.options.contextMenu&&(this.events.context=this.context.bind(this),this.events.updateMenu=this.updateMenu.bind(this),this.events.dismissMenu=this.dismissMenu.bind(this),this.events.reset=function(t,e=300){let i;return(...n)=>{clearTimeout(i),i=window.setTimeout(()=>t(),e)}}(()=>this.events.updateMenu(),50),this.dt.dom.addEventListener("contextmenu",this.events.context),document.addEventListener("click",this.events.dismissMenu),window.addEventListener("resize",this.events.reset),window.addEventListener("scroll",this.events.reset))}context(t){const e=t.target;if(!(e instanceof Element))return;this.event=t;const i=e.closest("tbody td");if(!this.disabled&&i){t.preventDefault();let n=t.pageX,a=t.pageY;n>this.limits.x&&(n-=this.rect.width),a>this.limits.y&&(a-=this.rect.height),this.wrapperDOM.style.top=`${a}px`,this.wrapperDOM.style.left=`${n}px`,this.openMenu(),this.updateMenu()}}click(t){const e=t.target;if(e instanceof Element){if(this.editing&&this.data&&this.editingCell){const i=F(this.options.classes.input),n=this.modalDOM?this.modalDOM.querySelector(`input${i}[type=text]`):this.dt.wrapperDOM.querySelector(`input${i}[type=text]`);this.saveCell(n.value)}else if(!this.editing){const i=e.closest("tbody td");i&&(this.editCell(i),t.preventDefault())}}}keydown(t){const e=F(this.options.classes.input);if(this.modalDOM){if(t.key==="Escape")this.options.cancelModal(this)&&this.closeModal();else if(t.key==="Enter")if(this.editingCell){const i=this.modalDOM.querySelector(`input${e}[type=text]`);this.saveCell(i.value)}else{const i=Array.from(this.modalDOM.querySelectorAll(`input${e}[type=text]`)).map(n=>n.value.trim());this.saveRow(i,this.data.row)}}else if(this.editing&&this.data)if(t.key==="Enter"){if(this.editingCell){const i=this.dt.wrapperDOM.querySelector(`input${e}[type=text]`);this.saveCell(i.value)}else if(this.editingRow){const i=Array.from(this.dt.wrapperDOM.querySelectorAll(`input${e}[type=text]`)).map(n=>n.value.trim());this.saveRow(i,this.data.row)}}else t.key==="Escape"&&(this.editingCell?this.saveCell(this.data.content):this.editingRow&&this.saveRow(null,this.data.row))}editCell(t){const e=ut(t.cellIndex,this.dt.columns.settings);if(this.options.excludeColumns.includes(e))return void this.closeMenu();const i=parseInt(t.parentElement.dataset.index,10),n=this.dt.data.data[i].cells[e];this.data={cell:n,rowIndex:i,columnIndex:e,content:U(n)},this.editing=!0,this.editingCell=!0,this.options.inline?this.dt.update():this.editCellModal(),this.closeMenu()}editCellModal(){const t=this.data.cell,e=this.data.columnIndex,i=this.dt.data.headings[e].text||String(this.dt.data.headings[e].data),n=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editCell}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-cancel>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${ot(i)}</label>`,`<input class='${this.options.classes.input}' value='${ot(U(t))}' type='text'>`,"</div>",`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.cancel}' type='button' data-editor-cancel>${this.options.labels.cancel}</button>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),a=q("div",{class:this.options.classes.modal,html:n});this.modalDOM=a,this.openModal();const l=F(this.options.classes.input),o=a.querySelector(`input${l}[type=text]`);o.focus(),o.selectionStart=o.selectionEnd=o.value.length,a.addEventListener("click",r=>{const d=r.target;d instanceof Element&&(d.hasAttribute("data-editor-cancel")?(r.preventDefault(),this.options.cancelModal(this)&&this.closeModal()):d.hasAttribute("data-editor-save")&&(r.preventDefault(),this.saveCell(o.value)))})}saveCell(t){const e=this.data.content,i=this.dt.columns.settings[this.data.columnIndex].type||this.dt.options.type,n=t.trim();let a;if(i==="number")a={data:parseFloat(n)};else if(i==="boolean")a=["","false","0"].includes(n)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if(i==="html")a={data:[{nodeName:"#text",data:t}],text:t,order:t};else if(i==="string")a={data:t};else if(i==="date"){const r=this.dt.columns.settings[this.data.columnIndex].format||this.dt.options.format;a={data:t,order:Dt(String(t),r)}}else a={data:t};this.dt.data.data[this.data.rowIndex].cells[this.data.columnIndex]=a,this.closeModal();const l=this.data.rowIndex,o=this.data.columnIndex;this.data={},this.dt.update(!0),this.editing=!1,this.editingCell=!1,this.dt.emit("editable.save.cell",t,e,l,o)}editRow(t){if(!t||t.nodeName!=="TR"||this.editing)return;const e=parseInt(t.dataset.index,10),i=this.dt.data.data[e];this.data={row:i.cells,rowIndex:e},this.editing=!0,this.editingRow=!0,this.options.inline?this.dt.update():this.editRowModal(),this.closeMenu()}editRowModal(){var r;const t=this.data.row,e=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editRow}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-cancel>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.cancel}' type='button' data-editor-cancel>${this.options.labels.cancel}</button>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),i=q("div",{class:this.options.classes.modal,html:e}),n=i.firstElementChild;if(!n)return;const a=(r=n.lastElementChild)==null?void 0:r.firstElementChild;if(!a)return;t.forEach((d,p)=>{const m=this.dt.columns.settings[p];if((!m.hidden||m.hidden&&this.options.hiddenColumns)&&!this.options.excludeColumns.includes(p)){const u=this.dt.data.headings[p].text||String(this.dt.data.headings[p].data);a.insertBefore(q("div",{class:this.options.classes.row,html:[`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${ot(u)}</label>`,`<input class='${this.options.classes.input}' value='${ot(U(d))}' type='text'>`,"</div>"].join("")}),a.lastElementChild)}}),this.modalDOM=i,this.openModal();const l=F(this.options.classes.input),o=Array.from(a.querySelectorAll(`input${l}[type=text]`));i.addEventListener("click",d=>{const p=d.target;if(p instanceof Element){if(p.hasAttribute("data-editor-cancel"))this.options.cancelModal(this)&&this.closeModal();else if(p.hasAttribute("data-editor-save")){const m=o.map(u=>u.value.trim());this.saveRow(m,this.data.row)}}})}saveRow(t,e){const i=e.map(l=>U(l)),n=this.dt.data.data[this.data.rowIndex];if(t){let l=0;n.cells=e.map((o,r)=>{if(this.options.excludeColumns.includes(r)||this.dt.columns.settings[r].hidden)return o;const d=this.dt.columns.settings[r].type||this.dt.options.type,p=t[l++];let m;if(d==="number")m={data:parseFloat(p)};else if(d==="boolean")m=["","false","0"].includes(p)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if(d==="html")m={data:[{nodeName:"#text",data:p}],text:p,order:p};else if(d==="string")m={data:p};else if(d==="date"){const u=this.dt.columns.settings[r].format||this.dt.options.format;m={data:p,order:Dt(String(p),u)}}else m={data:p};return m})}const a=n.cells.map(l=>U(l));this.data={},this.dt.update(!0),this.closeModal(),this.editing=!1,this.dt.emit("editable.save.row",a,i,e)}openModal(){this.modalDOM&&document.body.appendChild(this.modalDOM)}closeModal(){this.editing&&this.modalDOM&&(document.body.removeChild(this.modalDOM),this.modalDOM=this.editing=this.editingRow=this.editingCell=!1)}removeRow(t){if(!t||t.nodeName!=="TR"||this.editing)return;const e=parseInt(t.dataset.index,10);this.dt.rows.remove(e),this.closeMenu()}updateMenu(){const t=window.scrollX||window.pageXOffset,e=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+t-this.rect.width,y:window.innerHeight+e-this.rect.height}}dismissMenu(t){const e=t.target;if(!(e instanceof Element)||this.wrapperDOM.contains(e))return;let i=!0;if(this.editing){const n=F(this.options.classes.input);i=!e.matches(`input${n}[type=text]`)}i&&this.closeMenu()}openMenu(){if(this.editing&&this.data&&this.editingCell){const t=F(this.options.classes.input),e=this.modalDOM?this.modalDOM.querySelector(`input${t}[type=text]`):this.dt.wrapperDOM.querySelector(`input${t}[type=text]`);this.saveCell(e.value)}document.body.appendChild(this.containerDOM),this.menuOpen=!0,this.dt.emit("editable.context.open")}closeMenu(){this.menuOpen&&(this.menuOpen=!1,document.body.removeChild(this.containerDOM),this.dt.emit("editable.context.close"))}destroy(){this.dt.dom.removeEventListener(this.options.clickEvent,this.events.click),this.dt.dom.removeEventListener("contextmenu",this.events.context),document.removeEventListener("click",this.events.dismissMenu),document.removeEventListener("keydown",this.events.keydown),window.removeEventListener("resize",this.events.reset),window.removeEventListener("scroll",this.events.reset),document.body.contains(this.containerDOM)&&document.body.removeChild(this.containerDOM),this.options.inline&&(this.dt.options.rowRender=this.originalRowRender),this.initialized=!1}rowRender(t,e,i){return!this.data||this.data.rowIndex!==i||(this.editingCell?e.childNodes[function(n,a){let l=n,o=0;for(;o<n;)a[o].hidden&&(l-=1),o++;return l}(this.data.columnIndex,this.dt.columns.settings)].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:this.data.content,class:this.options.classes.input}}]:e.childNodes.forEach((n,a)=>{const l=ut(a,this.dt.columns.settings),o=t[l];this.options.excludeColumns.includes(l)||(e.childNodes[a].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:ot(o.text||String(o.data)||""),class:this.options.classes.input}}])})),e}}const re={classes:{button:"datatable-column-filter-button",menu:"datatable-column-filter-menu",container:"datatable-column-filter-container",wrapper:"datatable-column-filter-wrapper"},labels:{button:"Filter columns within the table"},hiddenColumns:[]};class le{constructor(t,e={}){M(this,"addedButtonDOM");M(this,"menuOpen");M(this,"buttonDOM");M(this,"dt");M(this,"events");M(this,"initialized");M(this,"options");M(this,"menuDOM");M(this,"containerDOM");M(this,"wrapperDOM");M(this,"limits");M(this,"rect");M(this,"event");this.dt=t,this.options={...re,...e}}init(){if(this.initialized)return;const t=F(this.options.classes.button);let e=this.dt.wrapperDOM.querySelector(t);if(!e){e=q("button",{class:this.options.classes.button,html:"▦"});const i=F(this.dt.options.classes.search),n=this.dt.wrapperDOM.querySelector(i);n?n.appendChild(e):this.dt.wrapperDOM.appendChild(e),this.addedButtonDOM=!0}this.buttonDOM=e,this.containerDOM=q("div",{id:this.options.classes.container}),this.wrapperDOM=q("div",{class:this.options.classes.wrapper}),this.menuDOM=q("ul",{class:this.options.classes.menu,html:this.dt.data.headings.map((i,n)=>{const a=this.dt.columns.settings[n];return this.options.hiddenColumns.includes(n)?"":`<li data-column="${n}">
                        <input type="checkbox" value="${i.text||i.data}" ${a.hidden?"":"checked=''"}>
                        <label>
                            ${i.text||i.data}
                        </label>
                    </li>`}).join("")}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this._measureSpace(),this._bind(),this.initialized=!0}dismiss(){this.addedButtonDOM&&this.buttonDOM.parentElement&&this.buttonDOM.parentElement.removeChild(this.buttonDOM),document.removeEventListener("click",this.events.click)}_bind(){this.events={click:this._click.bind(this)},document.addEventListener("click",this.events.click)}_openMenu(){document.body.appendChild(this.containerDOM),this._measureSpace(),this.menuOpen=!0,this.dt.emit("columnFilter.menu.open")}_closeMenu(){this.menuOpen&&(this.menuOpen=!1,document.body.removeChild(this.containerDOM),this.dt.emit("columnFilter.menu.close"))}_measureSpace(){const t=window.scrollX||window.pageXOffset,e=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+t-this.rect.width,y:window.innerHeight+e-this.rect.height}}_click(t){const e=t.target;if(e instanceof Element)if(this.event=t,this.buttonDOM.contains(e)){if(t.preventDefault(),this.menuOpen)return void this._closeMenu();this._openMenu();let i=t.pageX,n=t.pageY;i>this.limits.x&&(i-=this.rect.width),n>this.limits.y&&(n-=this.rect.height),this.wrapperDOM.style.top=`${n}px`,this.wrapperDOM.style.left=`${i}px`}else if(this.menuDOM.contains(e)){const i=F(this.options.classes.menu),n=e.closest(`${i} > li`);if(!n)return;const a=n.querySelector("input[type=checkbox]");a.contains(e)||(a.checked=!a.checked);const l=Number(n.dataset.column);a.checked?this.dt.columns.show([l]):this.dt.columns.hide([l])}else this.menuOpen&&this._closeMenu()}}Y.DataTable=class{constructor(s,t={}){M(this,"columns");M(this,"containerDOM");M(this,"_currentPage");M(this,"data");M(this,"_dd");M(this,"dom");M(this,"_events");M(this,"hasHeadings");M(this,"hasRows");M(this,"headerDOM");M(this,"_initialHTML");M(this,"initialized");M(this,"_label");M(this,"lastPage");M(this,"_listeners");M(this,"onFirstPage");M(this,"onLastPage");M(this,"options");M(this,"_pagerDOMs");M(this,"_virtualPagerDOM");M(this,"pages");M(this,"_rect");M(this,"rows");M(this,"_searchData");M(this,"_searchQueries");M(this,"_tableAttributes");M(this,"_tableFooters");M(this,"_tableCaptions");M(this,"totalPages");M(this,"_virtualDOM");M(this,"_virtualHeaderDOM");M(this,"wrapperDOM");const e=typeof s=="string"?document.querySelector(s):s;e instanceof HTMLTableElement?this.dom=e:(this.dom=document.createElement("table"),e.appendChild(this.dom));const i={...Mt.diffDomOptions,...t.diffDomOptions},n={...Mt.labels,...t.labels},a={...Mt.classes,...t.classes};this.options={...Mt,...t,diffDomOptions:i,labels:n,classes:a},this._initialHTML=this.options.destroyable?e.outerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new te(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){var s,t;if(this.initialized||mt(this.dom,this.options.classes.table))return!1;this._virtualDOM=rt(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=((s=this._virtualDOM.childNodes)==null?void 0:s.filter(e=>e.nodeName==="TFOOT"))??[],this._tableCaptions=((t=this._virtualDOM.childNodes)==null?void 0:t.filter(e=>e.nodeName==="CAPTION"))??[],this.options.caption!==void 0&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new se(this),this.columns=new ie(this),this.data=Ft(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=q("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const s=F(this.options.classes.selector),t=this.wrapperDOM.querySelector(`select${s}`);t&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(a=>{const[l,o]=Array.isArray(a)?[a[0],a[1]]:[String(a),a],r=o===this.options.perPage,d=new Option(l,String(o),r,r);t.appendChild(d)}):t&&t.parentElement.removeChild(t);const e=F(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(e),this._pagerDOMs=[];const i=F(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(i)).forEach(a=>{a instanceof HTMLElement&&(a.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(a.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};const n=F(this.options.classes.info);this._label=this.wrapperDOM.querySelector(n),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(s={}){let t;t=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!s.noPaging?this.pages[this._currentPage-1]:this.data.data.map((n,a)=>({row:n,index:a}));let e=jt(this._tableAttributes,this.data.headings,t,this.columns.settings,this.columns._state,this.rows.cursor,this.options,s,this._tableFooters,this._tableCaptions);if(this.options.tableRender){const n=this.options.tableRender(this.data,e,"main");n&&(e=n)}const i=this._dd.diff(this._virtualDOM,e);this._dd.apply(this.dom,i),this._virtualDOM=e}_renderPage(s=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let t,e=0,i=0,n=0;if(this.totalPages&&(e=this._currentPage-1,i=e*this.options.perPage,n=i+this.pages[e].length,i+=1,t=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const a=this.options.labels.info.replace("{start}",String(i)).replace("{end}",String(n)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(t));this._label.innerHTML=t?a:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(a=>a.index===this.rows.cursor))){const a=this.pages[this._currentPage-1];a.length&&(s?this.rows.setCursor(a[a.length-1].index):this.rows.setCursor(a[0].index))}}_renderPagers(){if(!this.options.paging)return;let s=ne(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const e=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],s);e&&(s=e)}const t=this._dd.diff(this._virtualPagerDOM,s);this._pagerDOMs.forEach(e=>{this._dd.apply(e,t)}),this._virtualPagerDOM=s}_renderSeparateHeader(){const s=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),s.parentElement.insertBefore(this.headerDOM,s);let t={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[kt(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(t.attributes.class=tt(t.attributes.class,this.options.classes.table),this.options.tableRender){const a=this.options.tableRender(this.data,t,"header");a&&(t=a)}const e={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[t]},i=this._dd.diff(this._virtualHeaderDOM,e);this._dd.apply(this.headerDOM,i),this._virtualHeaderDOM=e;const n=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(n){const a=structuredClone(this._virtualHeaderDOM);a.attributes.style=`padding-right: ${n}px;`;const l=this._dd.diff(this._virtualHeaderDOM,a);this._dd.apply(this.headerDOM,l),this._virtualHeaderDOM=a}s.scrollHeight>s.clientHeight&&(s.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const s=F(this.options.classes.selector),t=this.wrapperDOM.querySelector(s);t&&t instanceof HTMLSelectElement&&t.addEventListener("change",()=>{this.options.perPage=parseInt(t.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",s=>{const t=F(this.options.classes.input),e=s.target;if(!(e instanceof HTMLInputElement&&e.matches(t)))return;s.preventDefault();const i=[];if(Array.from(this.wrapperDOM.querySelectorAll(t)).filter(n=>n.value.length).forEach(n=>{const a=n.dataset.and||this.options.searchAnd,l=n.dataset.querySeparator||this.options.searchQuerySeparator?n.value.split(this.options.searchQuerySeparator):[n.value];a?l.forEach(o=>{n.dataset.columns?i.push({terms:[o],columns:JSON.parse(n.dataset.columns)}):i.push({terms:[o],columns:void 0})}):n.dataset.columns?i.push({terms:l,columns:JSON.parse(n.dataset.columns)}):i.push({terms:l,columns:void 0})}),i.length===1&&i[0].terms.length===1){const n=i[0];this.search(n.terms[0],n.columns)}else this.multiSearch(i)}),this.wrapperDOM.addEventListener("click",s=>{const t=s.target.closest("a, button");if(t){if(t.hasAttribute("data-page"))this.page(parseInt(t.getAttribute("data-page"),10)),s.preventDefault();else if(mt(t,this.options.classes.sorter)){const e=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),i=ut(e,this.columns.settings);this.columns.sort(i),s.preventDefault()}else if(mt(t,this.options.classes.filter)){const e=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),i=ut(e,this.columns.settings);this.columns.filter(i),s.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",s=>{if(s.key==="ArrowUp"){let t;s.preventDefault(),s.stopPropagation(),this.pages[this._currentPage-1].find(e=>e.index===this.rows.cursor||(t=e,!1)),t?this.rows.setCursor(t.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(s.key==="ArrowDown"){let t;s.preventDefault(),s.stopPropagation();const e=this.pages[this._currentPage-1].find(i=>!!t||(i.index===this.rows.cursor&&(t=!0),!1));e?this.rows.setCursor(e.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(s.key)&&this.emit("datatable.selectrow",this.rows.cursor,s)}),this.dom.addEventListener("mousedown",s=>{const t=s.target;if(t instanceof Element&&this.dom.matches(":focus")){const e=Array.from(this.dom.querySelectorAll("tbody > tr")).find(i=>i.contains(t));e&&e instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(e.dataset.index,10),s)}})):this.dom.addEventListener("mousedown",s=>{const t=s.target;if(!(t instanceof Element))return;const e=Array.from(this.dom.querySelectorAll("tbody > tr")).find(i=>i.contains(t));e&&e instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(e.dataset.index,10),s)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){var s;if(this.options.destroyable){if(this.wrapperDOM.parentElement){const t=q("div");t.innerHTML=this._initialHTML,this.wrapperDOM.parentElement.replaceChild(t.firstElementChild,this.wrapperDOM)}else(s=this.options.classes.table)==null||s.split(" ").forEach(t=>this.wrapperDOM.classList.remove(t));window.removeEventListener("resize",this._listeners.onResize),this.initialized=!1}}update(s=!1){var t;s&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),(t=this.options.classes.empty)==null||t.split(" ").forEach(e=>this.wrapperDOM.classList.remove(e)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let s=this.data.data.map((t,e)=>({row:t,index:e}));return this._searchQueries.length&&(s=[],this._searchData.forEach(t=>s.push({index:t,row:this.data.data[t]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((t,e)=>{t&&(s=s.filter(i=>{const n=i.row.cells[e];return typeof t=="function"?t(n.data):U(n)===t}))}),this.options.paging&&this.options.perPage>0?this.pages=s.map((t,e)=>e%this.options.perPage==0?s.slice(e,e+this.options.perPage):null).filter(t=>t):this.pages=[s],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(s,t=void 0){if(!s.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[s],columns:t||void 0}]),this.emit("datatable.search",s,this._searchData)}multiSearch(s){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];const t=s.map(i=>({columns:i.columns,terms:i.terms.map(n=>n.trim()).filter(n=>n)})).filter(i=>i.terms.length);if(this._searchQueries=t,!t.length)return this.update(),this.emit("datatable.multisearch",t,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const e=t.map(i=>this.columns.settings.map((n,a)=>{if(n.hidden||!n.searchable||i.columns&&!i.columns.includes(a))return!1;let l=i.terms;const o=n.sensitivity||this.options.sensitivity;return["base","accent"].includes(o)&&(l=l.map(r=>r.toLowerCase())),["base","case"].includes(o)&&(l=l.map(r=>r.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""))),(n.ignorePunctuation??this.options.ignorePunctuation)&&(l=l.map(r=>r.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),l}));this.data.data.forEach((i,n)=>{const a=i.cells.map((l,o)=>{let r=U(l).trim();const d=this.columns.settings[o];if(r.length){const m=d.sensitivity||this.options.sensitivity;["base","accent"].includes(m)&&(r=r.toLowerCase()),["base","case"].includes(m)&&(r=r.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(d.ignorePunctuation??this.options.ignorePunctuation)&&(r=r.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}const p=d.searchItemSeparator||this.options.searchItemSeparator;return p?r.split(p):[r]});e.every(l=>l.find((o,r)=>!!o&&o.find(d=>a[r].find(p=>p.includes(d)))))&&this._searchData.push(n)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",t,this._searchData)}page(s,t=!1){return s!==this._currentPage&&(isNaN(s)||(this._currentPage=s),!(s>this.pages.length||s<0)&&(this._renderPage(t),this._renderPagers(),void this.emit("datatable.page",s)))}insert(s){let t=[];if(Array.isArray(s)){const e=this.data.headings.map(i=>i.data?String(i.data):i.text);s.forEach((i,n)=>{const a=[];Object.entries(i).forEach(([l,o])=>{const r=e.indexOf(l);r>-1?a[r]=dt(o,this.columns.settings[r]):this.hasHeadings||this.hasRows||n!==0||(a[e.length]=dt(o,this.columns.settings[e.length]),e.push(l),this.data.headings.push(bt(l)))}),t.push({cells:a})})}else Z(s)&&(!s.headings||this.hasHeadings||this.hasRows?s.data&&Array.isArray(s.data)&&(t=s.data.map(e=>{let i,n;return Array.isArray(e)?(i={},n=e):(i=e.attributes,n=e.cells),{attributes:i,cells:n.map((a,l)=>dt(a,this.columns.settings[l]))}})):this.data=Ft(s,void 0,this.columns.settings,this.options.type,this.options.format));t.length&&t.forEach(e=>this.data.data.push(e)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.options.searchable){const s=F(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(s)).forEach(t=>t.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const s=q("table");let t=jt(this._tableAttributes,this.data.headings,this.data.data.map((n,a)=>({row:n,index:a})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){const n=this.options.tableRender(this.data,t,"print");n&&(t=n)}const e=this._dd.diff({nodeName:"TABLE"},t);this._dd.apply(s,e);const i=window.open();i.document.body.appendChild(s),i.print()}setMessage(s){var n;const t=this.data.headings.filter((a,l)=>{var o;return!((o=this.columns.settings[l])!=null&&o.hidden)}).length||1;(n=this.options.classes.empty)==null||n.split(" ").forEach(a=>this.wrapperDOM.classList.add(a)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let e={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[kt(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(t)},childNodes:[{nodeName:"#text",data:s}]}]}]}]};if(this._tableFooters.forEach(a=>e.childNodes.push(a)),this._tableCaptions.forEach(a=>e.childNodes.push(a)),e.attributes.class=tt(e.attributes.class,this.options.classes.table),this.options.tableRender){const a=this.options.tableRender(this.data,e,"message");a&&(e=a)}const i=this._dd.diff(this._virtualDOM,e);this._dd.apply(this.dom,i),this._virtualDOM=e}on(s,t){this._events[s]=this._events[s]||[],this._events[s].push(t)}off(s,t){s in this._events&&this._events[s].splice(this._events[s].indexOf(t),1)}emit(s,...t){if(s in this._events)for(let e=0;e<this._events[s].length;e++)this._events[s][e](...t)}},Y.addColumnFilter=function(s,t={}){const e=new le(s,t);return s.initialized?e.init():s.on("datatable.init",()=>e.init()),e},Y.convertCSV=function(s){let t;if(!Z(s))return!1;const e={lineDelimiter:`
`,columnDelimiter:",",removeDoubleQuotes:!1,...s};if(e.data.length){t={data:[]};const i=e.data.split(e.lineDelimiter);if(i.length&&(e.headings&&(t.headings=i[0].split(e.columnDelimiter),e.removeDoubleQuotes&&(t.headings=t.headings.map(n=>n.trim().replace(/(^"|"$)/g,""))),i.shift()),i.forEach((n,a)=>{t.data[a]=[];const l=n.split(e.columnDelimiter);l.length&&l.forEach(o=>{e.removeDoubleQuotes&&(o=o.trim().replace(/(^"|"$)/g,"")),t.data[a].push(o)})})),t)return t}return!1},Y.convertJSON=function(s){let t;if(!Z(s))return!1;const e={data:"",...s};if(e.data.length||Z(e.data)){const i=!!ft(e.data)&&JSON.parse(e.data);if(i?(t={headings:[],data:[]},i.forEach((n,a)=>{t.data[a]=[],Object.entries(n).forEach(([l,o])=>{t.headings.includes(l)||t.headings.push(l),t.data[a].push(o)})})):console.warn("That's not valid JSON!"),t)return t}return!1},Y.createElement=q,Y.exportCSV=function(s,t={}){if(!s.hasHeadings&&!s.hasRows||!Z(t))return!1;const e={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...t},i=o=>{var r;return!e.skipColumn.includes(o)&&!((r=s.columns.settings[o])!=null&&r.hidden)},n=s.data.headings.filter((o,r)=>i(r)).map(o=>o.text??o.data);let a;if(e.selection)if(Array.isArray(e.selection)){a=[];for(let o=0;o<e.selection.length;o++)a=a.concat(s.pages[e.selection[o]-1].map(r=>r.row))}else a=s.pages[e.selection-1].map(o=>o.row);else a=s.data.data;let l=[];if(l[0]=n,l=l.concat(a.map(o=>o.cells.filter((r,d)=>i(d)).map(r=>U(r)))),l.length){let o="";if(l.forEach(r=>{r.forEach(d=>{typeof d=="string"&&(d=(d=(d=(d=(d=d.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(d=`"${d}"`),o+=d+e.columnDelimiter}),o=o.trim().substring(0,o.length-1),o+=e.lineDelimiter}),o=o.trim().substring(0,o.length-1),e.download){const r=document.createElement("a");r.href=encodeURI(`data:text/csv;charset=utf-8,${o}`),r.download=`${e.filename||"datatable_export"}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}return o}return!1},Y.exportJSON=function(s,t={}){if(!s.hasHeadings&&!s.hasRows||!Z(t))return!1;const e={download:!0,skipColumn:[],replacer:null,space:4,...t},i=o=>{var r;return!e.skipColumn.includes(o)&&!((r=s.columns.settings[o])!=null&&r.hidden)};let n;if(e.selection)if(Array.isArray(e.selection)){n=[];for(let o=0;o<e.selection.length;o++)n=n.concat(s.pages[e.selection[o]-1].map(r=>r.row))}else n=s.pages[e.selection-1].map(o=>o.row);else n=s.data.data;const a=n.map(o=>o.cells.filter((r,d)=>i(d)).map(r=>U(r))),l=s.data.headings.filter((o,r)=>i(r)).map(o=>o.text??String(o.data));if(a.length){const o=[];a.forEach((d,p)=>{o[p]=o[p]||{},d.forEach((m,u)=>{o[p][l[u]]=m})});const r=JSON.stringify(o,e.replacer,e.space);if(e.download){const d=new Blob([r],{type:"data:application/json;charset=utf-8"}),p=URL.createObjectURL(d),m=document.createElement("a");m.href=p,m.download=`${e.filename||"datatable_export"}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(p)}return r}return!1},Y.exportSQL=function(s,t={}){if(!s.hasHeadings&&!s.hasRows||!Z(t))return!1;const e={download:!0,skipColumn:[],tableName:"myTable",...t},i=o=>{var r;return!e.skipColumn.includes(o)&&!((r=s.columns.settings[o])!=null&&r.hidden)};let n=[];if(e.selection)if(Array.isArray(e.selection))for(let o=0;o<e.selection.length;o++)n=n.concat(s.pages[e.selection[o]-1].map(r=>r.row));else n=s.pages[e.selection-1].map(o=>o.row);else n=s.data.data;const a=n.map(o=>o.cells.filter((r,d)=>i(d)).map(r=>U(r))),l=s.data.headings.filter((o,r)=>i(r)).map(o=>o.text??String(o.data));if(a.length){let o=`INSERT INTO \`${e.tableName}\` (`;if(l.forEach(r=>{o+=`\`${r}\`,`}),o=o.trim().substring(0,o.length-1),o+=") VALUES ",a.forEach(r=>{o+="(",r.forEach(d=>{o+=typeof d=="string"?`"${d}",`:`${d},`}),o=o.trim().substring(0,o.length-1),o+="),"}),o=o.trim().substring(0,o.length-1),o+=";",e.download&&(o=`data:application/sql;charset=utf-8,${o}`),e.download){const r=document.createElement("a");r.href=encodeURI(o),r.download=`${e.filename||"datatable_export"}.sql`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}return o}return!1},Y.exportTXT=function(s,t={}){if(!s.hasHeadings&&!s.hasRows||!Z(t))return!1;const e={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...t},i=o=>{var r;return!e.skipColumn.includes(o)&&!((r=s.columns.settings[o])!=null&&r.hidden)},n=s.data.headings.filter((o,r)=>i(r)).map(o=>o.text??o.data);let a;if(e.selection)if(Array.isArray(e.selection)){a=[];for(let o=0;o<e.selection.length;o++)a=a.concat(s.pages[e.selection[o]-1].map(r=>r.row))}else a=s.pages[e.selection-1].map(o=>o.row);else a=s.data.data;let l=[];if(l[0]=n,l=l.concat(a.map(o=>o.cells.filter((r,d)=>i(d)).map(r=>U(r)))),l.length){let o="";if(l.forEach(r=>{r.forEach(d=>{typeof d=="string"&&(d=(d=(d=(d=(d=d.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(d=`"${d}"`),o+=d+e.columnDelimiter}),o=o.trim().substring(0,o.length-1),o+=e.lineDelimiter}),o=o.trim().substring(0,o.length-1),e.download&&(o=`data:text/csv;charset=utf-8,${o}`),e.download){const r=document.createElement("a");r.href=encodeURI(o),r.download=`${e.filename||"datatable_export"}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}return o}return!1},Y.isJson=ft,Y.isObject=Z,Y.makeEditable=function(s,t={}){const e=new oe(s,t);return s.initialized?e.init():s.on("datatable.init",()=>e.init()),e}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[1])(1)})});export default ue();
